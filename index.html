<!DOCTYPE html>
<html lang="pt-BR" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NoteYou 3.0 - Sistema de Gerenciamento de Tarefas e Notas</title>
  <meta name="description" content="Sistema completo de gerenciamento de tarefas Kanban e notas com banco de dados h√≠brido">
  <meta name="keywords" content="tarefas, kanban, notas, produtividade, gest√£o">
  <meta name="author" content="NoteYou Team">
  
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>üìù</text></svg>">
  
  <!-- External Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  
  <!-- Firebase SDK (Opcional) -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
  
  <!-- Google Identity Services (Opcional) -->
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  
  <!-- Application Styles -->
  <link rel="stylesheet" href="assets/css/styles.css">
  <link rel="stylesheet" href="assets/css/mobile.css">
  <link rel="stylesheet" href="assets/css/additional-styles.css">
  
  <!-- Security Headers -->
  <!-- <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://www.gstatic.com https://cdn.jsdelivr.net https://accounts.google.com; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' https://fonts.gstatic.com; connect-src 'self' https://www.googleapis.com; object-src 'none'; base-uri 'self';"> -->
  
  <!-- PWA Meta Tags -->
  <meta name="theme-color" content="#2563eb">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="NoteYou">
  
  <!-- Open Graph -->
  <meta property="og:title" content="NoteYou 3.0">
  <meta property="og:description" content="Sistema completo de gerenciamento de tarefas e notas">
  <meta property="og:type" content="website">
  <meta property="og:image" content="/og-image.png">
  
  <!-- Skip Link for Accessibility -->
  <a href="#main-content" class="skip-link">Pular para o conte√∫do principal</a>
</head>
<body>
  <!-- TELA DE LOGIN -->
  <div id="loginContainer" class="login-container" style="display: flex;">
    <div class="login-card">
      <div class="login-logo">NoteYou 3.0</div>
      
      <!-- Abas de Login -->
      <div class="login-tabs">
        <button class="login-tab active" onclick="switchLoginTab('local')" id="localTab">
          üè† Login Local
        </button>
        <button class="login-tab" onclick="switchLoginTab('google')" id="googleTab">
          üîê Google
        </button>
        <button class="login-tab" onclick="switchLoginTab('demo')" id="demoTab">
          üöÄ Demo
        </button>
      </div>
      
      <!-- Formul√°rio de Login Local -->
      <div class="login-form active" id="localLogin">
        <form onsubmit="handleLocalLogin(event)">
          <div class="form-group">
            <label class="form-label" for="loginEmail">Email</label>
            <input 
              type="email" 
              id="loginEmail" 
              class="form-input" 
              placeholder="seu@email.com" 
              required
              autocomplete="email"
            >
          </div>
          
          <div class="form-group">
            <label class="form-label" for="loginPassword">Senha</label>
            <input 
              type="password" 
              id="loginPassword" 
              class="form-input" 
              placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" 
              required
              autocomplete="current-password"
            >
          </div>
          
          <button type="submit" class="btn btn-primary login-submit-btn">
            Entrar
          </button>
        </form>
        
        <div class="login-divider">
          <span>ou</span>
        </div>
        
        <button class="btn btn-secondary" onclick="switchToRegister()">
          Criar Nova Conta
        </button>
      </div>
      
      <!-- Formul√°rio de Registro -->
      <div class="login-form" id="registerForm" style="display: none;">
        <form onsubmit="handleLocalRegister(event)">
          <div class="form-group">
            <label class="form-label" for="registerName">Nome</label>
            <input 
              type="text" 
              id="registerName" 
              class="form-input" 
              placeholder="Seu nome" 
              required
              autocomplete="name"
            >
          </div>
          
          <div class="form-group">
            <label class="form-label" for="registerEmail">Email</label>
            <input 
              type="email" 
              id="registerEmail" 
              class="form-input" 
              placeholder="seu@email.com" 
              required
              autocomplete="email"
            >
          </div>
          
          <div class="form-group">
            <label class="form-label" for="registerPassword">Senha</label>
            <input 
              type="password" 
              id="registerPassword" 
              class="form-input" 
              placeholder="M√≠nimo 6 caracteres" 
              required
              minlength="6"
              autocomplete="new-password"
            >
          </div>
          
          <div class="form-group">
            <label class="form-label" for="confirmPassword">Confirmar Senha</label>
            <input 
              type="password" 
              id="confirmPassword" 
              class="form-input" 
              placeholder="Digite a senha novamente" 
              required
              minlength="6"
              autocomplete="new-password"
            >
          </div>
          
          <button type="submit" class="btn btn-primary login-submit-btn">
            Criar Conta
          </button>
        </form>
        
        <div class="login-divider">
          <span>ou</span>
        </div>
        
        <button class="btn btn-secondary" onclick="switchToLogin()">
          J√° tenho uma conta
        </button>
      </div>
      
      <!-- Login Google -->
      <div class="login-form" id="googleLogin" style="display: none;">
        <div class="text-center mb-4">
          <p>Entre com sua conta Google para sincronizar dados na nuvem.</p>
        </div>
        
        <button class="btn btn-secondary google-btn" onclick="signInWithGoogle()">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
            <path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
            <path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
            <path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
          </svg>
          Entrar com Google
        </button>
        
        <button class="btn btn-secondary demo-btn" onclick="switchLoginTab('local')">
          Voltar para Login Local
        </button>
      </div>
      
      <!-- Modo Demo -->
      <div class="login-form" id="demoLogin" style="display: none;">
        <div class="text-center">
          <h3>Modo Demonstra√ß√£o</h3>
          <p>Experimente o NoteYou 3.0 sem criar uma conta.</p>
          <p class="text-muted">Os dados ser√£o salvos apenas neste navegador.</p>
        </div>
        
        <button class="btn btn-primary" onclick="startDemoMode()">
          Iniciar Demo
        </button>
        
        <button class="btn btn-secondary demo-btn" onclick="switchLoginTab('local')">
          Voltar para Login
        </button>
      </div>
    </div>
  </div>

  <!-- APLICA√á√ÉO PRINCIPAL -->
  <div class="app-container" id="main-content" style="display: none;">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <a href="#" class="sidebar-logo">
          üìù NoteYou
        </a>
      </div>
      
      <nav class="sidebar-nav">
        <a href="#boards" class="nav-item active" data-section="boards">
          <span class="nav-icon">üìã</span>
          Boards
        </a>
        <a href="#kanban" class="nav-item" data-section="kanban">
          <span class="nav-icon">üìä</span>
          Kanban
        </a>
        <a href="#notes" class="nav-item" data-section="notes">
          <span class="nav-icon">üìù</span>
          Notas
        </a>
        <a href="#analytics" class="nav-item" data-section="analytics">
          <span class="nav-icon">üìà</span>
          Analytics
        </a>
        <a href="#profile" class="nav-item" data-section="profile">
          <span class="nav-icon">üë§</span>
          Perfil
        </a>
        <a href="#settings" class="nav-item" data-section="settings">
          <span class="nav-icon">‚öôÔ∏è</span>
          Configura√ß√µes
        </a>
      </nav>
      
      <!-- Social Links -->
      <div class="social-links">
        <h3 class="social-title">Redes Sociais</h3>
        <div class="social-grid">
          <a href="https://facebook.com" target="_blank" class="social-link" title="Facebook">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
            </svg>
          </a>
          <a href="https://twitter.com" target="_blank" class="social-link" title="Twitter">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
            </svg>
          </a>
          <a href="https://instagram.com" target="_blank" class="social-link" title="Instagram">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zM5.838 12a6.162 6.162 0 1112.324 0 6.162 6.162 0 01-12.324 0zM12 16a4 4 0 110-8 4 4 0 010 8zm4.965-10.405a1.44 1.44 0 112.881.001 1.44 1.44 0 01-2.881-.001z"/>
            </svg>
          </a>
          <a href="https://linkedin.com" target="_blank" class="social-link" title="LinkedIn">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
            </svg>
          </a>
          <a href="https://youtube.com" target="_blank" class="social-link" title="YouTube">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
            </svg>
          </a>
          <a href="https://github.com" target="_blank" class="social-link" title="GitHub">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
            </svg>
          </a>
          <a href="https://wa.me/" target="_blank" class="social-link" title="WhatsApp">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/>
            </svg>
          </a>
          <a href="https://telegram.org" target="_blank" class="social-link" title="Telegram">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/>
            </svg>
          </a>
        </div>
      </div>
      
      <!-- User Profile -->
      <div class="user-profile" id="userProfile" style="display: none;">
        <div class="user-avatar" id="userAvatar">U</div>
        <div class="user-info">
          <div class="user-name" id="userName">Usu√°rio</div>
          <div class="user-email" id="userEmail">user@example.com</div>
        </div>
        <button class="logout-btn" onclick="signOut()" title="Sair">
          üö™
        </button>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Header -->
      <header class="app-header">
        <div>
          <h1 class="header-title">Bem-vindo ao NoteYou 3.0</h1>
          <p class="header-subtitle">Organize suas tarefas e notas de forma eficiente</p>
        </div>
        
        <div class="header-actions">
          <button class="btn btn-secondary" onclick="toggleTheme()" title="Alternar tema">
            üåô
          </button>
          <button class="btn btn-primary" onclick="showCreateBoardModal()">
            + Novo Board
          </button>
        </div>
      </header>

      <!-- Boards Section -->
      <section id="boardsSection" class="content-section">
        <div class="section-header">
          <h2>Meus Boards</h2>
          <button class="btn btn-primary" onclick="showCreateBoardModal()">
            + Criar Board
          </button>
        </div>
        
        <div id="boardsContainer" class="boards-grid">
          <!-- Boards ser√£o renderizados aqui -->
        </div>
      </section>

      <!-- Kanban Section -->
      <section id="kanbanSection" class="content-section" style="display: none;">
        <div class="section-header">
          <h2>Kanban Board</h2>
          <button class="btn btn-primary" onclick="showCreateTaskModal('todo')">
            + Nova Tarefa
          </button>
        </div>
        
        <div class="kanban-board">
          <!-- Colunas do Kanban ser√£o renderizadas aqui -->
        </div>
      </section>

      <!-- Notes Section -->
      <section id="notesSection" class="content-section" style="display: none;">
        <div class="section-header">
          <h2>Minhas Notas</h2>
          <button class="btn btn-primary" onclick="showCreateNoteModal()">
            + Nova Nota
          </button>
        </div>
        
        <div id="notesContainer">
          <!-- Notas ser√£o renderizadas aqui -->
        </div>
      </section>

      <!-- Profile Section -->
      <section id="profileSection" class="content-section" style="display: none;">
        <div class="section-header">
          <h2>Meu Perfil</h2>
          <button class="btn btn-primary" onclick="saveProfile()">
            üíæ Salvar Altera√ß√µes
          </button>
        </div>
        
        <div class="profile-grid">
          <!-- Card de Informa√ß√µes Pessoais -->
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">Informa√ß√µes Pessoais</h3>
            </div>
            <div class="card-body">
              <div class="profile-avatar">
                <div class="avatar-container">
                  <div class="avatar" id="profileAvatar">
                    <span id="avatarInitials">üë§</span>
                  </div>
                  <button class="avatar-change" onclick="changeAvatar()">
                    üì∑ Trocar
                  </button>
                </div>
              </div>
              
              <div class="form-group">
                <label class="form-label" for="profileName">Nome Completo</label>
                <input type="text" id="profileName" class="form-input" placeholder="Seu nome">
              </div>
              
              <div class="form-group">
                <label class="form-label" for="profileEmail">Email</label>
                <input type="email" id="profileEmail" class="form-input" placeholder="seu@email.com" readonly>
              </div>
              
              <div class="form-group">
                <label class="form-label" for="profileBio">Biografia</label>
                <textarea id="profileBio" class="form-input" rows="3" placeholder="Fale um pouco sobre voc√™..."></textarea>
              </div>
            </div>
          </div>
          
          <!-- Card de Prefer√™ncias -->
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">Prefer√™ncias</h3>
            </div>
            <div class="card-body">
              <div class="form-group">
                <label class="form-label" for="profileLanguage">Idioma</label>
                <select class="form-select form-input" id="profileLanguage">
                  <option value="pt-BR">Portugu√™s (Brasil)</option>
                  <option value="en-US">English</option>
                  <option value="es-ES">Espa√±ol</option>
                </select>
              </div>
              
              <div class="form-group">
                <label class="form-label" for="profileTimezone">Fuso Hor√°rio</label>
                <select class="form-select form-input" id="profileTimezone">
                  <option value="America/Sao_Paulo">Bras√≠lia (GMT-3)</option>
                  <option value="America/New_York">Nova York (GMT-5)</option>
                  <option value="Europe/London">Londres (GMT+0)</option>
                  <option value="Asia/Tokyo">T√≥quio (GMT+9)</option>
                </select>
              </div>
              
              <div class="form-group">
                <label class="form-checkbox">
                  <input type="checkbox" id="profilePublicProfile">
                  <span>Tornar perfil p√∫blico</span>
                </label>
              </div>
              
              <div class="form-group">
                <label class="form-checkbox">
                  <input type="checkbox" id="profileShowEmail">
                  <span>Exibir email no perfil</span>
                </label>
              </div>
            </div>
          </div>
          
          <!-- Card de Estat√≠sticas -->
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">Minhas Estat√≠sticas</h3>
            </div>
            <div class="card-body">
              <div class="stats-grid">
                <div class="stat-item">
                  <div class="stat-value" id="profileTotalTasks">0</div>
                  <div class="stat-label">Tarefas Criadas</div>
                </div>
                <div class="stat-item">
                  <div class="stat-value" id="profileCompletedTasks">0</div>
                  <div class="stat-label">Tarefas Conclu√≠das</div>
                </div>
                <div class="stat-item">
                  <div class="stat-value" id="profileTotalNotes">0</div>
                  <div class="stat-label">Notas Criadas</div>
                </div>
                <div class="stat-item">
                  <div class="stat-value" id="profileMemberSince">-</div>
                  <div class="stat-label">Membro Desde</div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Card de Seguran√ßa -->
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">Seguran√ßa</h3>
            </div>
            <div class="card-body">
              <div class="form-group">
                <label class="form-label">√öltimo Login</label>
                <div class="security-info" id="profileLastLogin">
                  Nunca
                </div>
              </div>
              
              <div class="form-group">
                <label class="form-label">Senha</label>
                <div class="password-info">
                  <span>‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢</span>
                  <button class="btn btn-secondary btn-sm" onclick="showChangePasswordModal()">
                    üîë Alterar Senha
                  </button>
                </div>
              </div>
              
              <div class="form-group">
                <button class="btn btn-danger" onclick="confirmDeleteAccount()">
                  üóëÔ∏è Excluir Conta
                </button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Analytics Section -->
      <section id="analyticsSection" class="content-section" style="display: none;">
        <div class="section-header">
          <h2>Analytics</h2>
          <button class="btn btn-secondary" onclick="refreshAnalytics()">
            üîÑ Atualizar
          </button>
        </div>
        
        <div class="analytics-grid">
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">Estat√≠sticas Gerais</h3>
            </div>
            <div class="card-body">
              <div class="stats-grid">
                <div class="stat-item">
                  <div class="stat-value" id="totalTasks">0</div>
                  <div class="stat-label">Total de Tarefas</div>
                </div>
                <div class="stat-item">
                  <div class="stat-value" id="completedTasks">0</div>
                  <div class="stat-label">Conclu√≠das</div>
                </div>
                <div class="stat-item">
                  <div class="stat-value" id="totalNotes">0</div>
                  <div class="stat-label">Total de Notas</div>
                </div>
              </div>
            </div>
          </div>
          
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">Progresso das Tarefas</h3>
            </div>
            <div class="card-body">
              <div class="chart-container">
                <canvas id="tasksChart"></canvas>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Settings Section -->
      <section id="settingsSection" class="content-section" style="display: none;">
        <div class="section-header">
          <h2>Configura√ß√µes</h2>
        </div>
        
        <div class="settings-grid">
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">Prefer√™ncias</h3>
            </div>
            <div class="card-body">
              <div class="form-group">
                <label class="form-label">Tema</label>
                <select class="form-select form-input" id="themeSelect" onchange="changeTheme(this.value)">
                  <option value="light">Claro</option>
                  <option value="dark">Escuro</option>
                  <option value="auto">Autom√°tico</option>
                </select>
              </div>
              
              <div class="form-group">
                <label class="form-checkbox">
                  <input type="checkbox" id="autoSave" checked>
                  <span>Salvar automaticamente</span>
                </label>
              </div>
              
              <div class="form-group">
                <label class="form-checkbox">
                  <input type="checkbox" id="notifications" checked>
                  <span>Notifica√ß√µes</span>
                </label>
              </div>
            </div>
          </div>
          
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">Dados</h3>
            </div>
            <div class="card-body">
              <div class="btn-group">
                <button class="btn btn-secondary" onclick="exportData()">
                  üì§ Exportar Dados
                </button>
                <button class="btn btn-secondary" onclick="importData()">
                  üì• Importar Dados
                </button>
              </div>
              
              <div class="form-group mt-4">
                <button class="btn btn-danger" onclick="clearAllData()">
                  üóëÔ∏è Limpar Todos os Dados
                </button>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <!-- Modals -->
  <!-- Board Modal -->
  <div id="boardModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="boardModalTitle">Criar Board</h2>
        <button class="modal-close" onclick="closeModal('boardModal')">√ó</button>
      </div>
      <div class="modal-body">
        <form id="boardForm" onsubmit="createBoard(event)">
          <div class="form-group">
            <label class="form-label" for="boardName">Nome do Board</label>
            <input 
              type="text" 
              id="boardName" 
              class="form-input" 
              placeholder="Ex: Projeto Pessoal" 
              required
            >
          </div>
          
          <div class="form-group">
            <label class="form-label" for="boardDescription">Descri√ß√£o (opcional)</label>
            <textarea 
              id="boardDescription" 
              class="form-input form-textarea" 
              placeholder="Descreva o objetivo deste board..."
              rows="3"
            ></textarea>
          </div>
          
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" onclick="closeModal('boardModal')">
              Cancelar
            </button>
            <button type="submit" class="btn btn-primary">
              Criar Board
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Task Modal -->
  <div id="taskModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="taskModalTitle">Criar Tarefa</h2>
        <button class="modal-close" onclick="closeModal('taskModal')">√ó</button>
      </div>
      <div class="modal-body">
        <form id="taskForm" onsubmit="createTask(event)">
          <div class="form-group">
            <label class="form-label" for="taskTitle">T√≠tulo da Tarefa</label>
            <input 
              type="text" 
              id="taskTitle" 
              class="form-input" 
              placeholder="Ex: Implementar nova funcionalidade" 
              required
            >
          </div>
          
          <div class="form-group">
            <label class="form-label" for="taskDescription">Descri√ß√£o</label>
            <textarea 
              id="taskDescription" 
              class="form-input form-textarea" 
              placeholder="Descreva os detalhes da tarefa..."
              rows="4"
            ></textarea>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label class="form-label" for="taskStatus">Status</label>
              <select id="taskStatus" class="form-select form-input">
                <option value="todo">A Fazer</option>
                <option value="inprogress">Em Progresso</option>
                <option value="done">Conclu√≠do</option>
              </select>
            </div>
            
            <div class="form-group">
              <label class="form-label" for="taskPriority">Prioridade</label>
              <select id="taskPriority" class="form-select form-input">
                <option value="low">Baixa</option>
                <option value="medium" selected>M√©dia</option>
                <option value="high">Alta</option>
              </select>
            </div>
          </div>
          
          <div class="form-group">
            <label class="form-label" for="taskAssignee">Respons√°vel (opcional)</label>
            <input 
              type="text" 
              id="taskAssignee" 
              class="form-input" 
              placeholder="Nome do respons√°vel"
            >
          </div>
          
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" onclick="closeModal('taskModal')">
              Cancelar
            </button>
            <button type="submit" class="btn btn-primary">
              Criar Tarefa
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Note Modal -->
  <div id="noteModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="noteModalTitle">Criar Nota</h2>
        <button class="modal-close" onclick="closeModal('noteModal')">√ó</button>
      </div>
      <div class="modal-body">
        <form id="noteForm" onsubmit="createNote(event)">
          <div class="form-group">
            <label class="form-label" for="noteTitle">T√≠tulo da Nota</label>
            <input 
              type="text" 
              id="noteTitle" 
              class="form-input" 
              placeholder="Ex: Ideias para novo projeto" 
              required
            >
          </div>
          
          <div class="form-group">
            <label class="form-label" for="noteContent">Conte√∫do</label>
            <textarea 
              id="noteContent" 
              class="form-input form-textarea" 
              placeholder="Digite aqui o conte√∫do da sua nota..."
              rows="8"
              required
            ></textarea>
          </div>
          
          <div class="form-group">
            <label class="form-label" for="noteTags">Tags (separadas por v√≠rgula)</label>
            <input 
              type="text" 
              id="noteTags" 
              class="form-input" 
              placeholder="Ex: importante, trabalho, ideias"
            >
          </div>
          
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" onclick="closeModal('noteModal')">
              Cancelar
            </button>
            <button type="submit" class="btn btn-primary">
              Criar Nota
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Hidden file input for import -->
  <input type="file" id="importFile" accept=".json" style="display: none;" onchange="handleImport(event)">

  <!-- Application Scripts -->
  <script src="assets/js/hybrid-system.js"></script>
  <script src="assets/js/data-migration.js"></script>
  <script src="assets/js/lazy-loader.js"></script>
  <script src="assets/js/app.js"></script>
  <script src="assets/js/app-functions.js"></script>
  
  <!-- Security Check -->
  <script>
    // Corre√ß√£o para lockdown errors (baseado na solu√ß√£o MetaMask)
    // https://github.com/MetaMask/metamask-extension/issues/20847
    
    // Detectar e corrigir lockdown de seguran√ßa de extens√µes (MetaMask, etc.)
    (function() {
      // Polyfill para Object.groupBy se foi removido pelo lockdown
      if (typeof Object.groupBy === 'undefined') {
        Object.groupBy = function(items, callback) {
          const groups = {};
          for (const item of items) {
            const key = callback(item);
            if (!groups[key]) {
              groups[key] = [];
            }
            groups[key].push(item);
          }
          return groups;
        };
      }
      
      // Polyfill para hardenIntrinsics se foi removido
      if (typeof window.hardenIntrinsics === 'undefined') {
        window.hardenIntrinsics = function() {
          console.log('üîí hardenIntrinsics polyfill applied');
          return {};
        };
      }
      
      // Polyfill para harden se foi removido
      if (typeof window.harden === 'undefined') {
        window.harden = function(obj) {
          console.log('üîí harden polyfill applied');
          return obj;
        };
      }
      
      // Detectar se MetaMask ou similar est√° ativo
      if (typeof window.ethereum !== 'undefined' || 
          typeof window.web3 !== 'undefined' ||
          document.querySelector('meta[name="meta-mask"]') ||
          location.hostname.includes('metamask')) {
        
        console.warn('‚ö†Ô∏è Extens√£o de carteira detectada (MetaMask/similar) - aplicando corre√ß√µes de lockdown');
        
        // Adicionar aviso na p√°gina
        window.addEventListener('DOMContentLoaded', () => {
          const warning = document.createElement('div');
          warning.style.cssText = `
            position: fixed; top: 10px; left: 50%; transform: translateX(-50%);
            background: #f39c12; color: white; padding: 10px 20px;
            border-radius: 5px; z-index: 10000; font-weight: bold;
            font-size: 14px;
          `;
          warning.innerHTML = 'üîê Extens√£o de carteira detectada - polyfills aplicados';
          document.body.appendChild(warning);
          
          setTimeout(() => warning.remove(), 4000);
        });
      }
    })();
    
    // Verificar se h√° lockdown de seguran√ßa ativo
    if (typeof Date.prototype.toTemporalInstant === 'undefined') {
      console.warn('‚ö†Ô∏è Lockdown detectado - aplicando polyfills adicionais');
      
      // Polyfill para Date.prototype.toTemporalInstant
      if (typeof Date.prototype.toTemporalInstant === 'undefined') {
        Date.prototype.toTemporalInstant = function() {
          return {
            toEpochMilliseconds: () => this.getTime(),
            toEpochNanoseconds: () => BigInt(this.getTime()) * BigInt(1000000)
          };
        };
      }
      
      // Polyfill para performance
      if (typeof performance.now === 'undefined') {
        window.performance = window.performance || {};
        performance.now = () => Date.now();
      }
    }
  </script>
</body>
</html>
